!function(t,o,n,e){var s=0,i={grid:4,borderWidth:2,tabBorderColor:"#ddd",tabPadding:25,contentBorderColor:"#ddd",contentPadding:35,contentBackground:"#fff",activeTabBackground:"#fff",responsive:null,selectors:{tab:">dt",closeButton:".gridtab__close",nextArrow:".gridtab__next.gridtab__arrow",prevArrow:".gridtab__prev.gridtab__arrow",disabledArrow:".is-disabled"},config:{layout:"grid",keepOpen:!1,speed:500,activeTab:0,showClose:!1,showArrows:!1,scrollToTab:!1,rtl:!1},callbacks:{open:!1,close:!1}};function l(o,n){var e=this;e.element=o,e.options=t.extend(!0,{},i,n),e.defaults=i,e.name="gridtab",e.cssRules="",e.breakpoints=[],e.grids=[],e.activeTab=e.options.config.activeTab-1,e.tabs=t(e.element).find("> dt"),e.contents=t(e.element).find("> dd"),e.init(),e.generateStylesheet(e.cssRules),s++}l.prototype.init=function(){var o=this;t(o.element).addClass("gridtab gridtab--"+s),o.options.config.rtl&&t(o.element).attr("dir","rtl"),o.setTabOrder(),o.showControls(),o.addCssRules(o.options.grid,o.options.borderWidth,o.options.tabPadding,o.options.tabBorderColor,o.options.contentPadding,o.options.contentBorderColor,o.options.contentBackground,o.options.activeTabBackground,null),null!==o.options.responsive?o.responsiveBreakpoints():o.setContentOrder(o.options.grid),o.activeTab>-1&&o.activeTab<o.tabs.length&&o.slideContent(o.tabs[o.activeTab],!1,!1),t(o.element).on("click",o.options.selectors.tab,(function(n){t(this).attr("href")&&n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),o.slideContent(t(this).closest("dt"),!1,o.options.config.scrollToTab)}))},l.prototype.showControls=function(){var o=this;if(o.options.config.showClose||o.options.config.showArrows){var n=t('<div class="gridtab__controls"></div>').appendTo(o.contents);if(o.options.config.showClose&&t('<a class="'+o.options.selectors.closeButton.replace(/\./g," ")+'" href="#">Close</a>').appendTo(n),o.options.config.showArrows&&o.contents.length&&o.contents.length>=2){var e=o.options.selectors.nextArrow.replace(/\./g," "),s=o.options.selectors.prevArrow.replace(/\./g," "),i=o.options.selectors.disabledArrow.replace(/\./g," "),l='<a class="'+s+'" title="previous" href="#">Prev</a>',a='<a class="'+e+'" title="next" href="#">Next</a>',r='<span class="'+s+" "+i+'">Prev</span>',d='<span class="'+e+" "+i+'">Next</span>';o.contents.length>2&&t(l+a).appendTo(o.contents.slice(1,-1).find(n)),t(l+d).appendTo(t(o.contents[o.contents.length-1]).find(n)),t(r+a).appendTo(t(o.contents[0]).find(n))}t(n).on("click","a",(function(n){n.preventDefault();var i=o.contents.index(t(this).parent().parent());t(this).hasClass(s)?o.slideContent(o.tabs[i-1],!1,o.options.config.scrollToTab):t(this).hasClass(e)?o.slideContent(o.tabs[i+1],!1,o.options.config.scrollToTab):o.slideContent(o.tabs[i],!0,!1)}))}},l.prototype.setContentOrder=function(t){for(var o=Math.ceil(this.contents.length/t),n=0;n<o;n++){var e=n+1;this.contents.slice(n*t,t*e).css({order:""+e*t,"flex-order":""+e*t})}},l.prototype.setTabOrder=function(){this.tabs.each((function(o){t(this).css({order:""+o,"flex-order":""+o})}))},l.prototype.addCssRules=function(t,o,n,e,i,l,a,r,d){if(null!==t||null!==o||null!==n||null!==e||null!==l||null!==i||null!==a||null!==r){var c="",p="";null!==t&&(p=Math.floor(100/t*100)/100),null===t&&null===o&&null===e&&null===n||(null!==o&&(c+=".gridtab--"+s+"{padding:"+o+"px 0 0 "+o+"px;}"),c+=".gridtab--"+s+" > dt{",null!==o&&(c+="margin:-"+o+"px 0 0 -"+o+"px;"),null!==t&&(c+="min-width:calc("+p+"% + "+o+"px);width:calc("+p+"% + "+o+"px);"),null!==o&&(c+="border-width:"+o+"px;"),null!==n&&(c+="padding:"+n+"px;"),null!==e&&(c+="border-color:"+e+";"),c+="}"),null!==r&&(c+=".gridtab--"+s+" >dt.is-active{background:"+r+";}"),"tab"==this.options.config.layout&&null!==r&&null!==o&&(c+=".gridtab--"+s+" >dt.is-active:after{background:"+r+";height:"+o+"px;bottom:-"+o+"px;}"),null===l&&null===o&&null===a&&null===i||(c+=".gridtab--"+s+">dd{",c+="min-width:calc("+p*t+"% + "+o+"px);max-width:calc("+p*t+"% + "+o+"px);",null!==o&&(c+="margin:-"+o+"px 0 0 -"+o+"px !important;border-width:"+o+"px;"),null!==l&&(c+="border-color:"+l+";"),null!==i&&(c+="padding:"+i+"px;"),null!==a&&(c+="background:"+a+";"),c+="}"),this.cssRules+=null!==d?"@media (max-width:"+d+"px){"+c+"}":c}},l.prototype.generateStylesheet=function(o){t("head").append("<style>"+o+"</style>")},l.prototype.responsiveBreakpoints=function(){var t=this;if(t.options.responsive&&t.options.responsive.length){t.options.responsive.sort((function(t,o){return parseFloat(o.breakpoint)-parseFloat(t.breakpoint)}));var n=[];function e(){var o=[];n.filter((function(t){t.matches&&o.push(parseInt(t.media.replace(/[^\d.]/g,"")))}));var e=o.length?t.grids[t.breakpoints.indexOf(Math.min.apply(null,o))]:t.options.grid;t.setContentOrder(e)}for(var s in t.options.responsive){var i=t.options.responsive[s].settings,l=i.grid||t.options.grid,a=i.borderWidth||t.options.borderWidth,r=i.tabBorderColor||null,d=i.tabPadding||null,c=i.activeTabBackground||null,p=i.contentPadding||null,u=i.contentBorderColor||null,b=i.contentBackground||null,h=t.options.responsive[s].breakpoint||null;t.addCssRules(l,a,d,r,p,u,b,c,h),t.breakpoints.push(h),t.grids.push(l),n.push(o.matchMedia("(max-width:"+t.breakpoints[s]+"px)")),e(o.matchMedia("(max-width:"+t.breakpoints[s]+"px)"))}for(s=0;s<n.length;s++)n[s].addListener(e)}},l.prototype.scrollToTab=function(){var o=t("html, body");o.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",(function(){o.stop()})),o.animate({scrollTop:t(this.element).find(".is-active").offset().top},1e3,(function(){o.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")}))},l.prototype.slideContent=function(o,n,e){var s=this,i=t(o),l=t(s.element).find(">dt.is-active").not(o);if(!i.hasClass("is-disabled")){if(l.length)s.tabs.addClass("is-disabled"),l.next().stop(!0).slideUp(s.options.config.speed,(function(){return l.removeClass("is-active"),s.tabs.next().stop(!0),s.options.callbacks.close&&s.options.callbacks.close.call(this),i.addClass("is-active").next().stop(!0).slideDown(s.options.config.speed,(function(){return s.options.callbacks.open&&s.options.callbacks.open.call(this),e&&s.scrollToTab(),s.tabs.removeClass("is-disabled"),!1})),!1}));else if(s.options.config.keepOpen&&!n){if(!i.hasClass("is-active"))return i.addClass("is-active").next().stop(!0).slideDown(s.options.config.speed,(function(){s.options.callbacks.open&&s.options.callbacks.open.call(this),e&&s.scrollToTab()})),!1}else s.tabs.addClass("is-disabled"),i.toggleClass("is-active").next().stop(!0).slideToggle(s.options.config.speed,(function(){return t(this).is(":hidden")?s.options.callbacks.close&&s.options.callbacks.close.call(this):(s.options.callbacks.open&&s.options.callbacks.open.call(this),e&&s.scrollToTab()),s.tabs.removeClass("is-disabled"),!1}));return!1}},t.fn.gridtab=function(o){return this.each((function(){t.data(this,"plugin_gridtab")||t.data(this,"plugin_gridtab",new l(this,o))}))}}(jQuery,window,document);