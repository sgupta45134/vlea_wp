/*!
* Responsive Video Gallery - A jQuery plugin that provides a slider with horizontal and vertical thumb layouts for video galleries.
* @version 1.0.9
* @link http://fooplugins.github.io/rvslider/
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/
!function(t,i){t.fn.rvslider=function(e){return this.each((function(){var s=t(this).data("__RVSlider__");s instanceof i.RVSlider&&s.destroy(),i.RVSlider(this,e)}))},i.RVSlider=function(e,s){if(!(this instanceof i.RVSlider))return new i.RVSlider(e,s);var r=t(e);this.$={el:r,empty:r.find(".rvs-empty")},this.o=t.extend(!0,{},i.RVSlider.defaults,s),this.index=this.o.selected,this.breakpoints="[object Array]"===Object.prototype.toString.call(this.o.breakpoints)?this.o.breakpoints:[[480,"rvs-xs",2],[768,"rvs-xs rvs-sm",3],[1024,"rvs-xs rvs-sm rvs-md",4],[1280,"rvs-xs rvs-sm rvs-md rvs-lg",5],[1600,"rvs-xs rvs-sm rvs-md rvs-lg rvs-xl",6]],this.breakpoint=null,this.useViewport=this.$.el.hasClass("rvs-use-viewport"),this.items=new i.RVSliderItems(this),this.nav=new i.RVSliderNav(this),this.player=new i.RVSliderPlayer(this),this.resize(),this.setActive(this.index),this.$.el.addClass("rvs-animate").data("__RVSlider__",this),t(window).on("resize.rvs",{self:this},this.onWindowResize)},i.RVSlider.defaults={selected:0,swipe:{deadzone:10,items:.05,nav:.1,touches:1},breakpoints:null};var e=["Webkit","Moz","ms","O","Khtml"],s=document.createElement("div");i.RVSlider.supportsTransitions=function(t){if(void 0!==s.style[t])return!0;for(var i=0,r=e.length;i<r;i++){var o=e[i]+t.charAt(0).toUpperCase()+t.substr(1);if(void 0!==s.style[o])return!0}return!1}("transition"),i.RVSlider.prototype.destroy=function(){t(window).off("resize.rvs",this.onWindowResize),this.$.el.removeClass("rvs-animate").removeData("__RVSlider__"),this.player.destroy(),this.nav.destroy(),this.items.destroy()},i.RVSlider.prototype._breakpoint=function(){var t,i="devicePixelRatio"in window&&"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1,e=0,s=this.breakpoints.length,r=this.useViewport?(window.innerWidth||document.documentElement.clientWidth||(document.body?document.body.offsetWidth:0))/i:this.$.el.parent().innerWidth();for(this.breakpoints.sort((function(t,i){return t[0]-i[0]}));e<s;e++)if(this.breakpoints[e][0]>=r){t=this.breakpoints[e];break}return t||(t=this.breakpoints[s-1]),t},i.RVSlider.prototype.preresize=function(){this.$.el.removeClass("rvs-animate")},i.RVSlider.prototype.resize=function(){this.breakpoint=this._breakpoint(),this.$.el.removeClass(this.breakpoints[this.breakpoints.length-1][1]).addClass(this.breakpoint[1]),this.items.resize(),this.nav.resize(),this.$.el.addClass("rvs-animate")},i.RVSlider.prototype.setActive=function(t){0==this.items.count?this.$.empty.show():(this.$.empty.hide(),this.items.setActive(t),this.nav.setActive(t),this.player.setActive(t),this.index=t)},i.RVSlider.prototype.onWindowResize=function(t){var i=t.data.self;i.__resize__&&clearTimeout(i.__resize__),i.preresize(),i.__resize__=setTimeout((function(){i.__resize__=!1,i.resize()}),50)}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(t,i){i.RVSliderItems=function(t){if(!(this instanceof i.RVSliderItems))return new i.RVSliderItems(t);this.rvs=t;this.$={container:this.rvs.$.el.find(".rvs-item-container"),stage:this.rvs.$.el.find(".rvs-item-stage").on("touchstart.rvs",{self:this},this.onTouchStart),items:this.rvs.$.el.find(".rvs-item")},this.count=this.$.items.length,this.touched=!1,this.start=[0,0],this.diff=[0,0],this.width=0,this.height=0},i.RVSliderItems.prototype.destroy=function(){this.$.stage.off("touchstart.rvs",this.onTouchStart).off("touchmove.rvs",this.onTouchMove).off("touchend.rvs",this.onTouchEnd),this.$.stage.css({width:"",transform:""}),this.$.items.css({width:"",left:""}).removeClass("rvs-active")},i.RVSliderItems.prototype.resize=function(){var i=this;i.width=i.$.container.width(),i.height=i.$.container.height(),i.$.items.each((function(e){t(this).css({width:i.width,left:e*i.width})})),i.$.stage.css({width:i.width*i.count,transform:"translateX(-"+i.rvs.index*i.width+"px)"})};var e=t("<div/>").css({position:"absolute",top:-9999,left:-9999,visibility:"hidden"});i.RVSliderItems.prototype.setActive=function(t){if(t>=0&&t<this.count){var s=this,r=this.$.stage.css("transform"),o=function(t,i){return e.appendTo("body").css("transform","translateX(-"+t*i+"px)"),e.css("transform")}(t,this.width);this.$.stage.one("transitionend",(function(){s.$.items.removeClass("rvs-active").eq(t).addClass("rvs-active")})).css("transform","translateX(-"+t*this.width+"px)"),i.RVSlider.supportsTransitions&&r!==o||this.$.stage.trigger("transitionend")}else this.$.stage.css("transform","translateX(-"+this.rvs.index*this.width+"px)")},i.RVSliderItems.prototype.onTouchStart=function(t){var i=t.data.self,e=t.originalEvent.touches||t.touches;e.length==i.rvs.o.swipe.touches&&(i.touched=!0,i.start=[e[0].pageX,e[0].pageY],i.$.stage.on("touchmove.rvs",{self:i},i.onTouchMove).on("touchend.rvs",{self:i},i.onTouchEnd))},i.RVSliderItems.prototype.onTouchMove=function(t){var i=t.data.self,e=t.originalEvent.touches||t.touches;i.touched&&e.length==i.rvs.o.swipe.touches&&(i.diff=[i.start[0]-e[0].pageX,i.start[1]-e[0].pageY],Math.abs(i.diff[0])>i.rvs.o.swipe.deadzone&&t.preventDefault())},i.RVSliderItems.prototype.onTouchEnd=function(t){var i=t.data.self;i.$.stage.off("touchmove.rvs touchend.rvs"),Math.abs(i.diff[0])>i.width*i.rvs.o.swipe.items&&(i.diff[0]>0?i.rvs.setActive(i.rvs.index+1):i.diff[0]<0&&i.rvs.setActive(i.rvs.index-1)),i.diff=[0,0],i.start=[0,0],i.touched=!1}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(t,i){i.RVSliderNav=function(t){if(!(this instanceof i.RVSliderNav))return new i.RVSliderNav(t);this.rvs=t;this.$={container:this.rvs.$.el.find(".rvs-nav-container"),stage:this.rvs.$.el.find(".rvs-nav-stage").on("touchstart.rvs",{self:this},this.onTouchStart).on("DOMMouseScroll.rvs mousewheel.rvs",{self:this},this.onMouseWheel),items:this.rvs.$.el.find(".rvs-nav-item").on("click.rvs",{self:this},this.onItemClick),prev:this.rvs.$.el.find(".rvs-nav-prev").on("click.rvs",{self:this},this.onPrevClick),next:this.rvs.$.el.find(".rvs-nav-next").on("click.rvs",{self:this},this.onNextClick)},this.horizontal=this.rvs.$.el.hasClass("rvs-horizontal"),this.thumbPlay=this.rvs.$.el.hasClass("rvs-thumb-play"),this.touchable="ontouchstart"in document.documentElement,this.count=this.$.items.length,this.touched=!1,this.start=[0,0],this.diff=[0,0],this.height=0,this.width=0,this.visible={max:0,first:0,last:0}},i.RVSliderNav.prototype.destroy=function(){this.$.stage.off("touchstart.rvs",this.onTouchStart).off("touchmove.rvs",this.onTouchMove).off("touchend.rvs",this.onTouchEnd).off("DOMMouseScroll.rvs mousewheel.rvs",this.onMouseWheel),this.$.items.off("click.rvs",this.onItemClick),this.$.prev.off("click.rvs",this.onPrevClick),this.$.next.off("click.rvs",this.onNextClick),this.$.stage.css({width:"",transform:""}),this.$.items.css({width:"",left:""}).removeClass("rvs-active")},i.RVSliderNav.prototype.resize=function(){var i=this;i.horizontal?(i.visible.max=i.rvs.breakpoint[2],i.width=Math.floor(i.rvs.items.width/i.visible.max)+1,i.$.stage.css("width",i.width*i.count),i.$.items.each((function(e){t(this).css({width:i.width,left:e*i.width})}))):(i.height=i.$.items.first().outerHeight(),i.visible.max=Math.ceil(i.rvs.items.height/i.height)),i.setVisible(i.visible.first)},i.RVSliderNav.prototype.setVisible=function(t,i){if(t=t<0?0:t>=this.count?this.count-1:t,i&&(t-=this.visible.max-1),t>=0&&t+(this.visible.max-1)<this.count){var e=this.horizontal?"translateX(-"+(t*this.width+1)+"px) translateY(-1px)":"translateX(0px) translateY(-"+(t*this.height+1)+"px)";this.$.stage.css("transform",e),this.visible.first=t,this.visible.last=t+(this.visible.max-1)}this.touchable||0==this.visible.first?this.$.prev.detach():0==this.$.prev.parent().length&&this.$.container.prepend(this.$.prev),this.touchable||this.visible.last==this.count-1||this.visible.max>this.count-1?this.$.next.detach():0==this.$.next.parent().length&&this.$.container.append(this.$.next)},i.RVSliderNav.prototype.setActive=function(t){t>=0&&t<this.count&&(this.$.items.removeClass("rvs-active").eq(t).addClass("rvs-active"),t<=this.visible.first?this.setVisible(t-1):t>=this.visible.last&&this.setVisible(t+1,!0))},i.RVSliderNav.prototype.onItemClick=function(i){i.preventDefault();var e=i.data.self,s=t(this),r=s.find(".rvs-nav-item-thumb");e.rvs.setActive(s.index()),e.thumbPlay&&r.length&&(r.is(i.target)||t.contains(r[0],i.target))&&e.rvs.player.toggle()},i.RVSliderNav.prototype.onPrevClick=function(t){t.preventDefault(),t.data.self.setVisible(t.data.self.visible.first-Math.floor(t.data.self.visible.max/2))},i.RVSliderNav.prototype.onNextClick=function(t){t.preventDefault(),t.data.self.setVisible(t.data.self.visible.last+Math.floor(t.data.self.visible.max/2),!0)},i.RVSliderNav.prototype.onMouseWheel=function(t){var i,e=t.data.self;e.count>e.visible.max&&((t.originalEvent.wheelDelta>0||t.originalEvent.detail<0)&&0!==e.visible.first?i=e.visible.first-1:(t.originalEvent.wheelDelta<0||t.originalEvent.detail<0)&&e.visible.last!==e.count-1&&(i=e.visible.first+1),"number"!=typeof i||isNaN(i)||(t.preventDefault(),e.setVisible(i)))},i.RVSliderNav.prototype.onTouchStart=function(t){var i=t.data.self,e=t.originalEvent.touches||t.touches;e.length==i.rvs.o.swipe.touches&&(i.touched=!0,i.start=[e[0].pageX,e[0].pageY],i.$.stage.on("touchmove.rvs",{self:i},i.onTouchMove).on("touchend.rvs",{self:i},i.onTouchEnd))},i.RVSliderNav.prototype.onTouchMove=function(t){var i=t.data.self,e=t.originalEvent.touches||t.touches;i.touched&&e.length==i.rvs.o.swipe.touches&&(i.diff=[i.start[0]-e[0].pageX,i.start[1]-e[0].pageY],this.horizontal||t.preventDefault())},i.RVSliderNav.prototype.onTouchEnd=function(t){var i=t.data.self,e=Math.abs(i.diff[0]),s=Math.abs(i.diff[1]);i.$.stage.off("touchmove.rvs touchend.rvs"),i.horizontal?e>i.width*i.rvs.o.swipe.nav&&(i.diff[0]>0?i.setVisible(i.visible.last+Math.ceil(e/i.width),!0):i.diff[0]<0&&i.setVisible(i.visible.first-Math.ceil(e/i.width))):s>=i.height*i.rvs.o.swipe.nav&&(i.diff[1]>0?i.setVisible(i.visible.last+Math.ceil(s/i.width),!0):i.diff[1]<0&&i.setVisible(i.visible.first-Math.ceil(s/i.width))),i.diff=[0,0],i.start=[0,0],i.touched=!1}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(t,i){i.RVSliderVideoUrl=function(e){if(!(this instanceof i.RVSliderVideoUrl))return new i.RVSliderVideoUrl(e);var s=e.split("#");this.hash=2==s.length?"#"+s[1]:"",s=s[0].split("?"),this.url=s[0];var r=this.url.match(/.*\/(.*)$/);this.id=r&&r.length>=2?r[1]:null,this.protocol="https:"===window.location.protocol||"https"==e.substring(0,5)?"https:":"http:",this.params=[];for(var o,a=(2==s.length?s[1]:"").split(/[&;]/g),n=0,h=a.length;n<h;n++)2==(o=a[n].split("=")).length&&this.params.push({key:decodeURIComponent(o[0]),value:decodeURIComponent(o[1])});for(var l in this.mimeTypes={"video/youtube":/(www.)?youtube|youtu\.be/i,"video/vimeo":/(player.)?vimeo\.com/i,"video/wistia":/(.+)?(wistia\.(com|net)|wi\.st)\/.*/i,"video/daily":/(www.)?dailymotion\.com|dai\.ly/i,"video/mp4":/\.mp4/i,"video/webm":/\.webm/i,"video/wmv":/\.wmv/i,"video/ogg":/\.ogv/i},this.mimeType=null,this.mimeTypes)this.mimeTypes.hasOwnProperty(l)&&this.mimeTypes[l].test(e)&&(this.mimeType=l);var d=navigator.userAgent.toLowerCase(),v=d.indexOf("msie ")>-1||d.indexOf("trident/")>-1||d.indexOf("edge/")>-1,c=!document.addEventListener;if(this.isDirectLink=-1!==t.inArray(this.mimeType,["video/mp4","video/wmv","video/ogg","video/webm"]),this.isBrowserSupported=!this.isDirectLink||-1!==t.inArray(this.mimeType,v?c?[]:["video/mp4","video/wmv"]:["video/mp4","video/ogg","video/webm"]),"video/youtube"==this.mimeType)this.id=/embed\//i.test(this.url)?this.url.split(/embed\//i)[1].split(/[?&]/)[0]:e.split(/v\/|v=|youtu\.be\//i)[1].split(/[?&]/)[0],this.url=this.protocol+"//www.youtube.com/embed/"+this.id,this.param("autoplay","1"),this.param("modestbranding","1"),this.param("rel","0"),this.param("wmode","transparent"),this.param("showinfo","0");else if("video/vimeo"==this.mimeType)this.id=this.url.substr(this.url.lastIndexOf("/")+1),this.url=this.protocol+"//player.vimeo.com/video/"+this.id,this.param("autoplay","1"),this.param("badge","0"),this.param("portrait","0");else if("video/wistia"==this.mimeType){this.id=/embed\//i.test(this.url)?this.url.split(/embed\/.*?\//i)[1].split(/[?&]/)[0]:this.url.split(/medias\//)[1].split(/[?&]/)[0];var p=/playlists\//i.test(this.url);this.url=this.protocol+"//fast.wistia.net/embed/"+(p?"playlists":"iframe")+"/"+this.id,p?this.param("media_0_0[autoPlay]","1"):this.param("autoPlay","1"),this.param("theme","")}else"video/daily"==this.mimeType&&(this.id=/\/video\//i.test(this.url)?this.url.split(/\/video\//i)[1].split(/[?&]/)[0].split(/[_]/)[0]:e.split(/dai\.ly/i)[1].split(/[?&]/)[0],this.url=this.protocol+"//www.dailymotion.com/embed/video/"+this.id,this.param("autoplay","1"),this.param("wmode","opaque"),this.param("info","0"),this.param("logo","0"),this.param("related","0"))},i.RVSliderVideoUrl.prototype.param=function(t,i){for(var e=void 0===i,s="string"==typeof i&&""===i,r=this.params.length;r-- >0;)if(this.params[r].key==t)return e?this.params[r].value:void(s?this.params.splice(r,1):this.params[r].value=i);e||s||this.params.push({key:t,value:i})},i.RVSliderVideoUrl.prototype.toString=function(){for(var t=this.params.length>0?"?":"",i=0,e=this.params.length;i<e;i++)0!=i&&(t+="&"),t+=encodeURIComponent(this.params[i].key)+"="+encodeURIComponent(this.params[i].value);return this.url+t+this.hash}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(t,i){i.RVSliderPlayer=function(e){if(!(this instanceof i.RVSliderPlayer))return new i.RVSliderPlayer(e);this.rvs=e,this.rvs.items.$.stage.on("click.rvs",".rvs-play-video",{self:this},this.onPlayClick),this.$={container:t("<div/>",{class:"rvs-player"}),close:t("<a/>",{class:"rvs-close"}).on("click.rvs",{self:this},this.onCloseClick),player:null},this.$.close.appendTo(this.$.container),this.continuousPlay=this.rvs.$.el.hasClass("rvs-continuous-play"),this.attached=!1},i.RVSliderPlayer.prototype.destroy=function(){this.rvs.items.$.stage.off("click.rvs",".rvs-play-video",self.onPlayClick),this.rvs.items.$.items.add(this.rvs.nav.$.items).removeClass("rvs-video-active"),this.$.close.off("click.rvs",self.onCloseClick),this.$.container.remove()},i.RVSliderPlayer.prototype._parse=function(e){if("string"==typeof e){for(var s=0,r=(e=e.split(",")).length;s<r;s++)e[s]=new i.RVSliderVideoUrl(t.trim(e[s]));return e}return[]},i.RVSliderPlayer.prototype._error=function(){this.$.player instanceof jQuery&&this.$.player.remove(),this.$.player=t("<div/>",{class:"rvs-player-error"}).append(t("<span/>",{class:"rvs-error-icon"})),this.$.container.append(this.$.player).appendTo(this.rvs.items.$.items.filter(".rvs-active")),this.$.close.detach(),this.$.container.empty().append(this.$.player),this.$.close.appendTo(this.$.container)},i.RVSliderPlayer.prototype._direct=function(i){this.$.player=t("<video/>",{controls:!0,preload:!1,disablePictureInPicture:!0,controlsList:"nodownload"}).css({width:"100%",height:"100%"});var e=this,s=this.$.player[0],r=[];function o(){for(var t=0,i=r.length;t<i;t++)r[0].removeEventListener("error",o,!1);s.removeEventListener("error",o,!1),s.removeEventListener("loadeddata",l,!1),e._error()}for(var a,n=0,h=i.length;n<h;n++)i[n].isDirectLink&&((a=t("<source/>",{type:i[n].mimeType,src:i[n].toString()}))[0].addEventListener("error",o,!1),r.push(a[0]),this.$.player.append(a));function l(){for(var t=0,i=r.length;t<i;t++)r[0].removeEventListener("error",o,!1);s.removeEventListener("loadeddata",l,!1),s.removeEventListener("error",o,!1),s.play()}s.addEventListener("error",o,!1),s.addEventListener("loadeddata",l,!1),this.$.container.append(this.$.player).appendTo(this.rvs.items.$.items.filter(".rvs-active")),s.readyState<4?s.load():l()},i.RVSliderPlayer.prototype._embed=function(i){this.$.player=t("<iframe/>",{src:i,frameborder:"no",width:this.rvs.items.width,height:this.rvs.items.height,webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0}).css({width:"100%",height:"100%"}),this.$.container.append(this.$.player).appendTo(this.rvs.items.$.items.filter(".rvs-active"))},i.RVSliderPlayer.prototype.setActive=function(t){!this.continuousPlay&&this.rvs.index!=t&&this.attached&&this.close()},i.RVSliderPlayer.prototype.isDirectLink=function(t){if(!document.addEventListener)return!1;for(var i=0,e=t.length;i<e;i++)if(t[i].isDirectLink&&t[i].isBrowserSupported)return!0;return!1},i.RVSliderPlayer.prototype.play=function(t,i){t.length&&(this.attached&&this.close(),this.isDirectLink(t)?this._direct(t,i):t.length>0&&!t[0].isDirectLink?this._embed(t[0]):this._error(),this.rvs.items.$.items.add(this.rvs.nav.$.items).filter(".rvs-active").addClass("rvs-video-active"),this.attached=!0)},i.RVSliderPlayer.prototype.close=function(){this.attached&&(this.$.close.detach(),this.$.container.empty().detach(),this.$.close.appendTo(this.$.container),this.rvs.items.$.items.add(this.rvs.nav.$.items).removeClass("rvs-video-active"),this.attached=!1)},i.RVSliderPlayer.prototype.toggle=function(){var t=this.rvs.items.$.items.filter(".rvs-active"),i=t.find(".rvs-play-video");t.length&&!t.hasClass("rvs-video-active")?this.play(this._parse(i.attr("href")),i.data("options")||{}):this.close()},i.RVSliderPlayer.prototype.onPlayClick=function(i){i.preventDefault();var e=t(this),s=i.data.self;s.play(s._parse(e.attr("href")),e.data("options")||{})},i.RVSliderPlayer.prototype.onCloseClick=function(t){t.preventDefault(),t.data.self.close()}}(jQuery,window.FooPlugins=window.FooPlugins||{});