!function(f){"use strict";f.epNewsTicker=function(t,i){var e={effect:"fade",direction:"ltr",autoPlay:!1,interval:4e3,scrollSpeed:2,pauseOnHover:!1,position:"auto",zIndex:99999},s=this;s.settings={},s._element=f(t),s._label=s._element.children(".bdt-news-ticker-label"),s._news=s._element.children(".bdt-news-ticker-content"),s._ul=s._news.children("ul"),s._li=s._ul.children("li"),s._controls=s._element.children(".bdt-news-ticker-controls"),s._prev=s._controls.find(".bdt-news-ticker-prev").parent(),s._action=s._controls.find(".bdt-news-ticker-action").parent(),s._next=s._controls.find(".bdt-news-ticker-next").parent(),s._pause=!1,s._controlsIsActive=!0,s._totalNews=s._ul.children("li").length,s._activeNews=0,s._interval=!1,s._frameId=null;var n=function(){var t=parseFloat(s._ul.css("marginLeft"));t-=s.settings.scrollSpeed/2,s._ul.css({marginLeft:t}),t<=-s._ul.find("li:first-child").outerWidth()&&(s._ul.find("li:first-child").insertAfter(s._ul.find("li:last-child")),s._ul.css({marginLeft:0})),!1===s._pause&&(s._frameId=requestAnimationFrame(n),window.requestAnimationFrame&&s._frameId||setTimeout(n,16))},l=function(){var t=parseFloat(s._ul.css("marginRight"));t-=s.settings.scrollSpeed/2,s._ul.css({marginRight:t}),t<=-s._ul.find("li:first-child").outerWidth()&&(s._ul.find("li:first-child").insertAfter(s._ul.find("li:last-child")),s._ul.css({marginRight:0})),!1===s._pause&&(s._frameId=requestAnimationFrame(l)),window.requestAnimationFrame&&s._frameId||setTimeout(l,16)},a=function(){"rtl"===s.settings.direction?s._ul.stop().animate({marginRight:-s._ul.find("li:first-child").outerWidth()},300,function(){s._ul.find("li:first-child").insertAfter(s._ul.find("li:last-child")),s._ul.css({marginRight:0}),s._controlsIsActive=!0}):s._ul.stop().animate({marginLeft:-s._ul.find("li:first-child").outerWidth()},300,function(){s._ul.find("li:first-child").insertAfter(s._ul.find("li:last-child")),s._ul.css({marginLeft:0}),s._controlsIsActive=!0})},c=function(){"rtl"===s.settings.direction?(0<=parseInt(s._ul.css("marginRight"),10)&&(s._ul.css({"margin-right":-s._ul.find("li:last-child").outerWidth()}),s._ul.find("li:last-child").insertBefore(s._ul.find("li:first-child"))),s._ul.stop().animate({marginRight:0},300,function(){s._controlsIsActive=!0})):(0<=parseInt(s._ul.css("marginLeft"),10)&&(s._ul.css({"margin-left":-s._ul.find("li:last-child").outerWidth()}),s._ul.find("li:last-child").insertBefore(s._ul.find("li:first-child"))),s._ul.stop().animate({marginLeft:0},300,function(){s._controlsIsActive=!0}))},o=function(){switch(s._controlsIsActive=!0,s.settings.effect){case"typography":s._ul.find("li").hide(),s._ul.find("li").eq(s._activeNews).width(30).show(),s._ul.find("li").eq(s._activeNews).animate({width:"100%",opacity:1},1500);break;case"fade":s._ul.find("li").hide(),s._ul.find("li").eq(s._activeNews).fadeIn();break;case"slide-down":s._totalNews<=1?s._ul.find("li").animate({top:30,opacity:0},300,function(){f(this).css({top:-30,opacity:0,display:"block"}),f(this).animate({top:0,opacity:1},300)}):(s._ul.find("li:visible").animate({top:30,opacity:0},300,function(){f(this).hide()}),s._ul.find("li").eq(s._activeNews).css({top:-30,opacity:0}).show(),s._ul.find("li").eq(s._activeNews).animate({top:0,opacity:1},300));break;case"slide-up":s._totalNews<=1?s._ul.find("li").animate({top:-30,opacity:0},300,function(){f(this).css({top:30,opacity:0,display:"block"}),f(this).animate({top:0,opacity:1},300)}):(s._ul.find("li:visible").animate({top:-30,opacity:0},300,function(){f(this).hide()}),s._ul.find("li").eq(s._activeNews).css({top:30,opacity:0}).show(),s._ul.find("li").eq(s._activeNews).animate({top:0,opacity:1},300));break;case"slide-right":s._totalNews<=1?s._ul.find("li").animate({left:"50%",opacity:0},300,function(){f(this).css({left:-50,opacity:0,display:"block"}),f(this).animate({left:0,opacity:1},300)}):(s._ul.find("li:visible").animate({left:"50%",opacity:0},300,function(){f(this).hide()}),s._ul.find("li").eq(s._activeNews).css({left:-50,opacity:0}).show(),s._ul.find("li").eq(s._activeNews).animate({left:0,opacity:1},300));break;case"slide-left":s._totalNews<=1?s._ul.find("li").animate({left:"-50%",opacity:0},300,function(){f(this).css({left:"50%",opacity:0,display:"block"}),f(this).animate({left:0,opacity:1},300)}):(s._ul.find("li:visible").animate({left:"-50%",opacity:0},300,function(){f(this).hide()}),s._ul.find("li").eq(s._activeNews).css({left:"50%",opacity:0}).show(),s._ul.find("li").eq(s._activeNews).animate({left:0,opacity:1},300));break;default:s._ul.find("li").hide(),s._ul.find("li").eq(s._activeNews).show()}},r=function(){if(s._pause=!1,s.settings.autoPlay)switch(s.settings.effect){case"scroll":"rtl"===s.settings.direction?s._ul.width()>s._news.width()?l():s._ul.css({marginRight:0}):s._ul.width()>s._news.width()?n():s._ul.css({marginLeft:0});break;default:s.pause(),s._interval=setInterval(function(){s.next()},s.settings.interval)}},d=function(){s._element.width()<480?(s._label.hide(),"rtl"==s.settings.direction?s._news.css({right:0}):s._news.css({left:0})):(s._label.show(),"rtl"==s.settings.direction?s._news.css({right:s._label.outerWidth()}):s._news.css({left:s._label.outerWidth()}))};s.init=function(){s.settings=f.extend({},e,i),s._element.addClass("bdt-effect-"+s.settings.effect+" bdt-direction-"+s.settings.direction),function(){if(0<s._label.length&&("rtl"==s.settings.direction?s._news.css({right:s._label.outerWidth()}):s._news.css({left:s._label.outerWidth()})),0<s._controls.length){var t=s._controls.outerWidth();"rtl"==s.settings.direction?s._news.css({left:t}):s._news.css({right:t})}if("scroll"===s.settings.effect){var i=0;s._li.each(function(){i+=f(this).outerWidth()}),i+=50,s._ul.css({width:i})}}(),"scroll"!=s.settings.effect&&o(),r(),s.settings.autoPlay?s._action.find("span").removeClass("bdt-news-ticker-play").addClass("bdt-news-ticker-pause"):s._action.find("span").removeClass("bdt-news-ticker-pause").addClass("bdt-news-ticker-play"),s._element.on("mouseleave",function(t){var i=f(document.elementFromPoint(t.clientX,t.clientY)).parents(".bdt-breaking-news")[0];f(this)[0]!==i&&(!0===s.settings.pauseOnHover?!0===s.settings.autoPlay&&s.play():!0===s.settings.autoPlay&&!0===s._pause&&s.play())}),s._element.on("mouseenter",function(){!0===s.settings.pauseOnHover&&s.pause()}),s._next.on("click",function(){s._controlsIsActive&&(s._controlsIsActive=!1,s.pause(),s.next())}),s._prev.on("click",function(){s._controlsIsActive&&(s._controlsIsActive=!1,s.pause(),s.prev())}),s._action.on("click",function(){s._controlsIsActive&&(s._action.find("span").hasClass("bdt-news-ticker-pause")?(s._action.find("span").removeClass("bdt-news-ticker-pause").addClass("bdt-news-ticker-play"),s.stop()):(s.settings.autoPlay=!0,s._action.find("span").removeClass("bdt-news-ticker-play").addClass("bdt-news-ticker-pause")))}),d(),f(window).on("resize",function(){d(),s.pause(),s.play()})},s.pause=function(){s._pause=!0,clearInterval(s._interval),cancelAnimationFrame(s._frameId)},s.stop=function(){s._pause=!0,s.settings.autoPlay=!1},s.play=function(){r()},s.next=function(){!function(){switch(s.settings.effect){case"scroll":a();break;default:s._activeNews++,s._activeNews>=s._totalNews&&(s._activeNews=0),o()}}()},s.prev=function(){!function(){switch(s.settings.effect){case"scroll":c();break;default:s._activeNews--,s._activeNews<0&&(s._activeNews=s._totalNews-1),o()}}()},s.init()},f.fn.epNewsTicker=function(i){return this.each(function(){if(null==f(this).data("epNewsTicker")){var t=new f.epNewsTicker(this,i);f(this).data("epNewsTicker",t)}})}}(jQuery);