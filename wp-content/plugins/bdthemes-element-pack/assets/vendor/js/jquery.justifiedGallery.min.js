!function(){"use strict";var t,e,i,n,s={animate:!0,layout:"justified",filter:"*",filterControls:"",autoConsiderScrollBars:!0,onBeforeOptionsChanged:function(){},onOptionsChanged:function(){},onBeforeRender:function(){},onRender:function(){},autoInitOnDomReady:!0,autoInitOnDomMutation:!0,autoSyncChildListMutation:!0,useOptionAttributes:!0,autoSyncAttributesMutation:!0,autoSyncChildClassMutation:!0},l={},o=null,a=0,r=null,u={isTruly:function(t){return!!t&&("string"!=typeof t||"false"!==t.toLowerCase())},expectArray:function(t){return u.isArrayLike(t)?t:[t]},isArrayLike:function(t){return t.length===+t.length&&"string"!=typeof t},inArray:function(t,e){return-1!==t.indexOf(e)},objectWalk:function(t,e){var i;if(e(t),"object"==typeof t)for(i in t)u.objectWalk(t[i],e)},objectAssign:function(t){var e,i;for(e=1;e<arguments.length;e++)for(i in arguments[e])t[i]=arguments[e][i];return t},optionsMerge:function(t,e){var i;for(i in e)void 0!==t[i]&&(t[i]=e[i]);return t},isValidCssSelector:function(t){var e=!1;if("string"==typeof t)try{u.matches(document.body,t),e=!0}catch(t){}return e},matches:Element.prototype.matches?function(t,e){return t.matches(e)}:Element.prototype.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:Element.prototype.webkitMatchesSelector?function(t,e){return t.webkitMatchesSelector(e)}:function(t,e){for(var i=(t.document||t.ownerDocument).querySelectorAll(e),n=i.length;--n>=0&&i.item(n)!==t;);return n>-1},changeMultipleClassNames:(n=document.createElement("div").classList,n.add("a","b"),n.contains("b")?function(t,e,i){t.classList[e?"add":"remove"].apply(t.classList,i)}:function(t,e,i){for(var n=i.length,s=e?"add":"remove",l=n;l--;)t.classList[s](i[n-l-1])}),expectNaturalImageSize:(i=[],e=function(){var e;for(e=0;e<i.length;e++)(i[e].img.naturalWidth&&i[e].img.naturalHeight||i[e].ready)&&(i[e].callback(i[e].img,!i[e].error),i.splice(e,1),e--);i.length||(clearInterval(t),t=null)},function(n,s){var l={img:n,callback:s||function(){},imgB:document.createElement("img"),ready:!1,error:!1};l.imgB.addEventListener("load",(function(){l.ready=!0}),!1),l.imgB.addEventListener("error",(function(){l.ready=!0,l.error=!0}),!1),l.imgB.src=l.img.src,i.push(l),t||(t=setInterval(e,0))}),processLazyLoading:function(){if(null!==r){d();for(var t,e,i,n=r.length,s=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=[];n--;)e=(t=r[n].image.getBoundingClientRect()).right/(s+(t.right-t.left)),i=t.bottom/(l+(t.bottom-t.top)),e>-.5&&e<1.5&&i>-.5&&i<1.5&&o.push(r.splice(n,1)[0]);for(n=0;n<o.length;n++)o[n].item.contentElement.classList.add("jgalleryItemLoading"),o[n].src&&(o[n].image.src=o[n].src),o[n].srcset&&(o[n].image.srcset=o[n].srcset)}},registerReadOnlyObjectParameters:function(t,e){var i;for(i in e)Object.defineProperty(t,i,{value:e[i],enumerable:!0})},completeDefaultOptionsObject:function(){o!==Jgallery._defaultOptions.layout&&void 0!==Jgallery._layouts[Jgallery._defaultOptions.layout]&&(Jgallery._defaultOptions=u.optionsMerge(u.cloneDefaultOptionsTemplate(Jgallery._defaultOptions.layout),Jgallery._defaultOptions),o=Jgallery._defaultOptions.layout)},cloneDefaultOptionsTemplate:function(t){return void 0===l[t]&&void 0!==Jgallery._layouts[t]&&(l[t]=u.objectAssign({},Jgallery._layouts[t]._defaultOptions,s)),void 0!==l[t]?u.objectAssign({},l[t]):{}}},h=!0;function d(){h=!1,setTimeout((function(){h=!0}),0)}var m=new function(){var t=!1,e=new MutationObserver((function(){h&&y()}));this.reset=function(){var i=Jgallery._defaultOptions.autoInitOnDomMutation;t!==!!i&&(i?(y(),e.observe(document.body,{attributes:!0,attributeFilter:["class"],subtree:!0,childList:!0})):e.disconnect(),t=!!i)}};function c(t){var e=getComputedStyle(t.element),i={actualBox:null,borderBox:{width:t.element.offsetWidth,height:t.element.offsetHeight},paddingBox:{width:t.element.clientWidth,height:t.element.clientHeight},contentBox:null,border:{top:parseInt(e.borderTopWidth),right:parseInt(e.borderRightWidth),bottom:parseInt(e.borderBottomWidth),left:parseInt(e.borderLeftWidth)},padding:{top:parseInt(e.paddingTop),right:parseInt(e.paddingRight),bottom:parseInt(e.paddingBottom),left:parseInt(e.paddingLeft)}};i.contentBox={width:i.paddingBox.width-i.padding.left-i.padding.right,height:i.paddingBox.height-i.padding.top-i.padding.bottom},i.actualBox="border-box"===e.boxSizing?i.borderBox:i.contentBox,u.registerReadOnlyObjectParameters(this,{jgalleryInstance:t,dimensions:i,items:[],layoutStorage:t._layoutStorage}),this.styleToApply="";for(var n=t._allItems.length;n--;)this.items.unshift(new g(t._allItems[n]))}function g(t){u.registerReadOnlyObjectParameters(this,{element:t.contentElement,valid:t.valid,imageError:t.failures,matchFilter:t.matchFilter,width:t.size[0],height:t.size[1],aspectRatio:t.ratio,layoutStorage:t.layoutStorage}),this.visible=t.visible,this.styleToApply=""}function y(){for(var t=document.getElementsByClassName("jgallery"),e=t.length;e--;)void 0===t[e].jgallery&&new Jgallery(t[e])}window.JgalleryLayout=function(t){"string"==typeof t.name&&void 0===Jgallery._layouts[t.name]&&(this.name=t.name,this._defaultOptions=t&&"object"==typeof t.options?t.options:{},this._handler=t&&"function"==typeof t.handler?t.handler:function(){},Jgallery._layouts[t.name]=this)},JgalleryLayout.prototype={constructor:JgalleryLayout,set handler(t){},get handler(){return this._handler}},window.Jgallery=function(t,e){var i,n=void 0===t.jgallery,s=n?this:t.jgallery,l=0;if(e=e||{},s._options=Jgallery.getDefaultOptions(),u.objectAssign({},s._options,e).useOptionAttributes&&(e=u.objectAssign({},s._getOptionParametersFromElement(t),e)),n){for(i in t.jgallery=s,u.registerReadOnlyObjectParameters(s,{element:t,id:++a,_allItems:[],_layoutStorage:{},_filterControls:[],_itemVisibilityClasses:{null_true:{add:["jgalleryItemInitialToVisible"],remove:[]},null_false:{add:["jgalleryItemHidden"],remove:[]},false_true:{add:["jgalleryItemHiddenToVisible"],remove:[]},true_false:{add:["jgalleryItemVisibleToHidden"],remove:[]},true_true:{add:["jgalleryItemVisibleToVisible"],remove:[]},true:{add:["jgalleryItemVisible"],remove:[]},false:{add:["jgalleryItemHidden"],remove:[]},null:{add:[],remove:[]}},_itemVisibilityClassesArray:[],_insertQueue:{maxQueueTime:1e3,maxQuietTime:400,items:[],lastProcess:null,timer:null},_elementMutationObserverConfig:{attributes:!1,childList:!1},_elementMutationObserver:new MutationObserver((function(t){if(h){var e={},i=!1,n=!1,l=!1;t.forEach((function(t){switch(t.type){case"attributes":if("class"===t.attributeName&&s._options.useOptionAttributes)s._options.animate!==t.target.classList.contains("jgalleryAnimated")&&void 0===e.animate&&(e.animate=!s._options.animate,i=!0);else if("style"===t.attributeName)n=!0;else if(0===t.attributeName.indexOf("data-jgallery-")&&s._options.useOptionAttributes){var o=s._getOptionParametersFromElement(null,null,t.attributeName);e[o.name]=o.value,i=!0}break;case"childList":l=!0,n=!0}})),l&&s._syncElements(),i?s.setOptions(e):n&&s.render()}})),_childMutationObserverConfig:{attributes:!1,attributeFilter:["class"]},_childMutationObserver:new MutationObserver((function(t){if(h){var e=s._options.filter,i=!1;t.forEach((function(t){switch(t.type){case"attributes":void 0!==t.target.jgalleryItem&&s._setMatchFilter(t.target.jgalleryItem,e)&&(i=!0)}})),i&&s.render()}}))}),s._itemIdAutoIncrement=0,u.objectWalk(s._itemVisibilityClasses,(function(t){"string"==typeof t&&-1===s._itemVisibilityClassesArray.indexOf(t)&&s._itemVisibilityClassesArray.push(t)})),s._itemVisibilityClasses)s._itemVisibilityClasses[i].remove=s._itemVisibilityClassesArray.filter((function(t){return s._itemVisibilityClasses[i].add.indexOf(t)<0}));s._updateOptionParameters(e),d(),s.element.setAttribute("data-jgalleryid",s.id),s.element.addEventListener("animationend",(function(t){t.target.jgalleryItem&&(d(),u.changeMultipleClassNames(t.target,!0,s._itemVisibilityClasses[JSON.stringify(t.target.jgalleryItem.visible)].add),u.changeMultipleClassNames(t.target,!1,s._itemVisibilityClasses[JSON.stringify(t.target.jgalleryItem.visible)].remove))})),s._syncElements(),l=s.element.clientWidth,window.addEventListener("resize",(function(){s.element.clientWidth!==l&&(l=s.element.clientWidth,s.render())}),!1),document.addEventListener("touchstart",(function(){}),!0)}else s.setOptions(e);return s},Jgallery._layouts={},Jgallery._defaultOptions=u.objectAssign({},s),Jgallery.setDefaultOptions=function(t){void 0!==t.layout&&Jgallery._defaultOptions.layout!==t.layout&&void 0!==Jgallery._layouts[t.layout]&&(Jgallery._defaultOptions.layout=t.layout),u.completeDefaultOptionsObject(),Jgallery._defaultOptions=u.optionsMerge(Jgallery._defaultOptions,t),m.reset()},Jgallery.getDefaultOptions=function(t){return t&&t!==Jgallery._defaultOptions.layout&&"undefiend"!=typeof Jgallery._layouts[t]?u.optionsMerge(u.cloneDefaultOptionsTemplate(t),Jgallery._defaultOptions):(u.completeDefaultOptionsObject(),u.objectAssign({},Jgallery._defaultOptions))},Jgallery.getDefaultOption=function(t){return u.completeDefaultOptionsObject(),void 0!==Jgallery._defaultOptions[t]?Jgallery._defaultOptions[t]:null},Jgallery.prototype={IMG_FAILURE:0,IMG_LOADING:1,IMG_LOADING_READY:2,IMG_READY:3,IMG_FINISHED:4,ITEM_REGISTERED:1,ITEM_INSERT_QUEUE:2,ITEM_INSERTED:3,setOptions:function(t){this._updateOptionParameters(t),this.render(),u.processLazyLoading()},getOptions:function(){return u.objectAssign({},this._options)},getOption:function(t){return void 0!==this._options[t]?this._options[t]:null},syncAttributes:function(){this._options.useOptionAttributes&&this.setOptions(this._getOptionParametersFromElement())},syncChildList:function(){this._syncElements(),this.render()},render:function(){var t,e,i,n=this._getRenderObject(),s=this._options.filter;for(this._options.onBeforeRender(this),d(),t=n.items.length;t--;)(e=n.items[t]).valid&&!e.element.jgalleryItem.visible&&(e.element.style.cssText=e.element.style.cssText+"; "+e.styleToApply+"; transition: none; ");for(document.body.offsetWidth,n.jgalleryInstance.element.style.cssText=n.jgalleryInstance.element.style.cssText+"; "+n.styleToApply,t=n.items.length;t--;)(e=n.items[t]).valid&&(e.element.jgalleryItem.visible?e.element.style.cssText=e.element.style.cssText+"; "+e.styleToApply:e.element.style.transition="",(i=this._itemVisibilityClasses[JSON.stringify(e.element.jgalleryItem.visible)+"_"+JSON.stringify(e.visible)])&&(u.changeMultipleClassNames(e.element,!0,i.add||[]),u.changeMultipleClassNames(e.element,!1,i.remove||[])),e.element.jgalleryItem.visible=e.visible);for(t=n.items.length;t--;)(e=n.items[t]).valid&&(this._setMatchFilter(e.element.jgalleryItem,s),"none"===getComputedStyle(e.element).animationName&&(i=this._itemVisibilityClasses[JSON.stringify(e.visible)],u.changeMultipleClassNames(e.element,!0,i.add||[]),u.changeMultipleClassNames(e.element,!1,i.remove||[])));this._options.onRender(this)},_resetElementMutationObserver:function(){var t,e=this._elementMutationObserverConfig,i=!1,n=e.attributes||e.childList;e.attributes!==this._options.autoSyncAttributesMutation&&(e.attributes=!e.attributes,i=!0),e.childList!==this._options.autoSyncChildListMutation&&(e.childList=!e.childList,i=!0),t=e.attributes||e.childList,i&&(n&&this._elementMutationObserver.disconnect(),t&&this._elementMutationObserver.observe(this.element,u.objectAssign({},e)))},_resetChildMutationObserver:function(t){var e,i,n,s,l,o=this._childMutationObserverConfig,a=!1,r=o.attributes,h=!1;if(o.attributes!==this._options.autoSyncChildClassMutation&&(o.attributes=!o.attributes,a=!0),i=o.attributes,(a||t)&&(r&&this._childMutationObserver.disconnect(),i))for(e=u.objectAssign({},o),s=this._options.filter,l=this._allItems.length;l--;)n=this._allItems[l],this._childMutationObserver.observe(n.contentElement,e),this._setMatchFilter(n,s)&&(h=!0);h&&this.render()},_setMatchFilter:function(t,e){if(t.status===this.ITEM_INSERTED){var i=u.matches(t.contentElement,e);if(i!==t.matchFilter)return t.matchFilter=i,!0}return!1},_filterControlEventHandler:function(t){var e,i,n=this._filterControls.length,s=[],l=t.target;for("OPTION"===l.nodeName&&(l=l.parentNode);n--;)if(l===(i=this._filterControls[n]))if("SELECT"===i.nodeName)for(e=i.options.length;e--;)i.options[e].selected&&(s=s.concat(i.options[e].value));else(i.checked||"checkbox"!==i.type)&&(s=s.concat(i.value));else if(i.checked)"checkbox"===l.type&&"checkbox"===i.type?s=s.concat(i.value):i.checked=!1;else if("SELECT"===i.nodeName)for(e=i.options.length;e--;)i.options[e].selected=!1;this.setOptions({filter:s.join(", ")||":not(*)"})},_getRenderObject:function(){var t,e=this._options.autoConsiderScrollBars,i=new c(this),n=!1,s=i.jgalleryInstance.element,l=null,o=null,a=i.jgalleryInstance.element.offsetWidth,r=i.jgalleryInstance.element.style.position,u=i.jgalleryInstance.element.style.cssText,h=!1;if(this._prepareRenderObject(i),e){for(;s.parentNode&&"#document"!==s.parentNode.nodeName;)if(s=s.parentNode,"auto"===(l=getComputedStyle(s).overflowY)||"BODY"===s.nodeName&&"visible"===l){h=!0,(o="BODY"===s.nodeName?Math.max(document.documentElement.clientHeight,window.innerHeight||0):s.offsetHeight)<i.jgalleryInstance.element.offsetHeight&&o<(t=(t=i.styleToApply.match(/height:\s*([0-9]+)px;/))?parseInt(t[1]):null)&&(h=!1);break}h&&(i.jgalleryInstance.element.style.cssText=u+"; "+i.styleToApply+"; transition: none; animation: none; overflow: hidden; ",a!==i.jgalleryInstance.element.offsetWidth&&(i.jgalleryInstance.element.style.position=r,i=new c(this),n=!0),i.jgalleryInstance.element.style.cssText=u+"; transition: none; animation: none; ",document.body.offsetWidth,i.jgalleryInstance.element.style.cssText=u,document.body.offsetWidth,n&&this._prepareRenderObject(i))}return i},_prepareRenderObject:function(t){Jgallery._layouts[this._options.layout].handler(t),this.element.children.length&&this.element.children[0].offsetParent!==this.element&&(t.styleToApply+="; position: relative; "),"block"!==this.element.style.display&&(t.styleToApply+="; display: block; ")},_syncElements:function(){var t,e,i=this.element.children,n=this.getOption("filter");for(this._allItems.length=0,t=0;t<i.length;t++)e=void 0===i[t].jgalleryItem?this._createItem(i[t]):i[t].jgalleryItem,this._setMatchFilter(e,n),this._allItems.push(e);this._resetChildMutationObserver(!0)},_createItem:function(t){0===this._insertQueue.items.length&&(this._insertQueue.lastProcess=(new Date).getTime()),d(),u.changeMultipleClassNames(t,!1,this._itemVisibilityClassesArray.concat(["jgalleryItem","jgalleryItemLoading","jgalleryItemInitializing","jgalleryItemReady","jgalleryItemComplete"]));var e={id:++this._itemIdAutoIncrement,contentElement:t,size:[0,0],ratio:0,failures:!1,status:this.ITEM_REGISTERED,images:[],imagesStatus:[],imagesInfo:[],matchFilter:null,layoutStorage:{},visible:null};t.jgalleryItem=e,e.contentElement.setAttribute("data-jgalleryitemid",e.id),e.contentElement.style.visibility="hidden",e.contentElement.style.position="absolute",u.changeMultipleClassNames(e.contentElement,!0,["jgalleryItem","jgalleryItemLoading","jgalleryItemInitializing"]);for(var i="IMG"===t.nodeName?[t]:t.querySelectorAll("img"),n=i.length;n--;)(function(t){e.images.push(t);var i=t.getAttribute("width"),n=t.getAttribute("height"),s=t.getAttribute("data-jgallerylazysrc"),l=t.getAttribute("data-jgallerylazysrcset");t.getAttribute("src")||!s&&!l||(i&&n?t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEHAAEALAAAAAABAAEAAAICTAEAOw==":(t.src=s,t.srcset=l,s=null,l=null)),e.imagesInfo.push({styleWidth:t.style.width,styleHeight:t.style.height,attributeWidth:i,attributeHeight:n,lazySrc:s,lazySrcset:l}),null!==i&&null!==n&&parseInt(i)>0&&parseInt(n)>0?e.imagesStatus.push(this.IMG_LOADING_READY):e.imagesStatus.push(this.IMG_LOADING)}).bind(this)(i[n]);return document.body.offsetWidth,e.images.forEach(function(t,i){var n=function(){e.imagesStatus[i]=t.naturalWidth?this.IMG_FINISHED:this.IMG_FAILURE,this._onImageFinished(e)}.bind(this),s=function(){e.imagesStatus[i]=this.IMG_FAILURE,this._onImageFinished(e)}.bind(this);t.addEventListener("load",n,!1),t.addEventListener("error",s,!1),t.complete&&n(),e.imagesInfo[i].lazySrc||e.imagesInfo[i].lazySrcset||u.expectNaturalImageSize(t,function(n,s){e.imagesStatus[i]=s&&t.naturalWidth?t.complete?this.IMG_FINISHED:this.IMG_READY:this.IMG_FAILURE,this._onImageReady(e)}.bind(this))}.bind(this)),this._onImageReady(e),this._onImageFinished(e),e},_processInsertQueue:function(t){var e,i,n,s,l,o,a=this._insertQueue.lastProcess<(new Date).getTime()-this._insertQueue.maxQueueTime,r=[],u=[],h=this._options.filter,m=[];if(null!==this._insertQueue.timer&&(clearTimeout(this._insertQueue.timer),this._insertQueue.timer=null),t||a){for(d(),e=this._insertQueue.items.shift();e;)u.push(e),e=this._insertQueue.items.shift();for(o=u.length;o--;)for(s=(e=u[o]).item.images.length;s--;)!(n=e.item.imagesInfo[s]).attributeWidth&&e.item.images[s].offsetWidth<40&&e.item.images[s].naturalWidth&&(n.attributeWidth=e.item.images[s].naturalWidth),!n.attributeHeight&&e.item.images[s].offsetHeight<40&&e.item.images[s].naturalHeight&&(n.attributeHeight=e.item.images[s].naturalHeight),(n.attributeWidth||n.attributeHeight)&&(l=getComputedStyle(e.item.images[s]),(parseInt(l.width)<40||"auto"===l.width||n.lazySrc||n.lazySrcset)&&n.attributeWidth&&!n.styleWidth&&r.push({image:e.item.images[s],definition:"width",value:n.attributeWidth+"px"}),(parseInt(l.height)<40||"auto"===l.height||n.lazySrc||n.lazySrcset)&&n.attributeHeight&&!n.styleHeight&&r.push({image:e.item.images[s],definition:"height",value:n.attributeHeight+"px"})),(n.lazySrc||n.lazySrcset)&&m.push({item:e.item,image:e.item.images[s],src:n.lazySrc,srcset:n.lazySrcset});for(i=r.length;i--;)r[i].image.style[r[i].definition]=r[i].value,r[i].image.style.display="none";for(document.body.offsetWidth,i=r.length;i--;)r[i].image.style.display="";for(o=u.length;o--;)(e=u[o]).item.size=[e.contentElement.offsetWidth,e.contentElement.offsetHeight],e.item.ratio=e.item.size[0]/e.item.size[1];for(i=r.length;i--;)r[i].image.style[r[i].definition]="";for(o=u.length;o--;)(e=u[o]).item.status=this.ITEM_INSERTED,e.item.valid=!(!e.item.size[0]||!e.item.size[1]),this._setMatchFilter(e.item,h),e.item.contentElement.classList.remove("jgalleryItemInitializing"),e.item.contentElement.classList.add("jgalleryItemReady");for(this.render(),o=u.length;o--;)(e=u[o]).item.contentElement.style.visibility="";m.length&&this._addImagesToLazyLoadQueue(m),this._insertQueue.lastProcess=(new Date).getTime()}else this._insertQueue.timer=setTimeout(function(){this._processInsertQueue(!0)}.bind(this),this._insertQueue.maxQuietTime)},_addImagesToLazyLoadQueue:function(t){null===r&&t.length&&(r=[],window.addEventListener("resize",u.processLazyLoading,!1),window.addEventListener("scroll",u.processLazyLoading,!0)),r=r.concat(t),u.processLazyLoading()},_addToInsertQueue:function(t,e){this._insertQueue.items.push({contentElement:t,item:e}),this._processInsertQueue(!1)},_onImageFinished:function(t){var e=t.failures;u.inArray(t.imagesStatus,this.IMG_LOADING)||u.inArray(t.imagesStatus,this.IMG_LOADING_READY)||u.inArray(t.imagesStatus,this.IMG_READY)||(d(),u.inArray(t.imagesStatus,this.IMG_FAILURE)&&(t.failures=!0),t.status===this.ITEM_INSERTED&&e!==t.failures&&this.render(),t.contentElement.classList.remove("jgalleryItemLoading"),t.contentElement.classList.add("jgalleryItemComplete"))},_onImageReady:function(t){var e=t.failures;t.failures=u.inArray(t.imagesStatus,this.IMG_FAILURE),t.status===this.ITEM_INSERTED&&e!==t.failures&&this.render(),t.status!==this.ITEM_REGISTERED||u.inArray(t.imagesStatus,this.IMG_LOADING)||(t.status=this.ITEM_INSERT_QUEUE,this._addToInsertQueue(t.contentElement,t))},_getOptionParametersFromElement:function(t,e,i){var n,s,l,o,a={},r={};for(s in t=t||this.element,e=e||t.getAttribute("data-jgallery-layout")||this._options.layout,l=t.attributes,n=Jgallery.getDefaultOptions(e))a[s.toLowerCase()]={name:s,value:n[s]};if(i)void 0!==a[s=i.substr(14).toLowerCase()]&&(r.name=a[s].name,r.value=void 0!==l[i]?l[i].value:null);else for(t.classList.contains("jgalleryAnimated")&&(r.animate=!0),o=l.length;o--;)"data-jgallery-"===l[o].name.substr(0,14)&&void 0!==a[s=l[o].name.substr(14).toLowerCase()]&&(r[a[s].name]=l[o].value);return r},_updateOptionParameters:function(t){var e,i,n,s,l,o,a,r,h=!1;if(t=t||{},this._options.onBeforeOptionsChanged(this),i=u.objectAssign({},this._options),"object"==typeof t.layout&&null===t.layout&&this._options.layout!==Jgallery._defaultOptions.layout&&(this._options.layout=Jgallery._defaultOptions.layout,h=!0),"string"==typeof t.layout&&"object"==typeof Jgallery._layouts[t.layout]&&Jgallery._layouts[t.layout].constructor===JgalleryLayout&&this._options.layout!==t.layout&&(this._options.layout=t.layout,h=!0),n=Jgallery.getDefaultOptions(this._options.layout),h){for(e in this._options)void 0===n[e]&&delete this._options[e];for(e in n)void 0===this._options[e]&&(this._options[e]=n[e]);if(this._options.useOptionAttributes)for(e in s=this._getOptionParametersFromElement(null,this._options.layout))void 0!==n[e]&&void 0===t[e]&&this._options[e]!==s[e]&&(t[e]=s[e])}for(e in n)if(void 0!==t[e]&&null!==t[e])switch(typeof n[e]){case"boolean":this._options[e]=u.isTruly(t[e]);break;case"number":this._options[e]=+t[e];break;default:this._options[e]=t[e]}for(e in"string"==typeof t.filter&&this._options.filter!==t.filter&&u.isValidCssSelector(t.filter)&&(this._options.filter=t.filter),"string"!=typeof t.filterControls||""!==t.filterControls&&!u.isValidCssSelector(t.filterControls)||(this._options.filterControls=t.filterControls),void 0!==t.animate&&null!==t.animate&&(this._options.animate=u.isTruly(t.animate)),void 0!==t.autoConsiderScrollBars&&null!==t.autoConsiderScrollBars&&(this._options.autoConsiderScrollBars=u.isTruly(t.autoConsiderScrollBars)),"function"==typeof t.onBeforeOptionsChanged&&(this._options.onBeforeOptionsChanged=t.onBeforeOptionsChanged),"function"==typeof t.onOptionsChanged&&(this._options.onOptionsChanged=t.onOptionsChanged),"function"==typeof t.onBeforeRender&&(this._options.onBeforeRender=t.onBeforeRender),"function"==typeof t.onRender&&(this._options.onRender=t.onRender),void 0!==t.autoSyncChildListMutation&&null!==t.autoSyncChildListMutation&&(this._options.autoSyncChildListMutation=u.isTruly(t.autoSyncChildListMutation)),void 0!==t.autoSyncAttributesMutation&&null!==t.autoSyncAttributesMutation&&(this._options.autoSyncAttributesMutation=u.isTruly(t.autoSyncAttributesMutation)),void 0!==t.autoSyncChildClassMutation&&null!==t.autoSyncChildClassMutation&&(this._options.autoSyncChildClassMutation=u.isTruly(t.autoSyncChildClassMutation)),t)null===t[e]&&void 0!==n[e]&&(this._options[e]=n[e]);if(i.filter!==this._options.filter)for(l=this._allItems.length;l--;)this._setMatchFilter(this._allItems[l],this._options.filter);if(i.filterControls!==this._options.filterControls||this._options.filterControls&&0===this._filterControls.length){for(a=[].slice.call(this._options.filterControls?document.querySelectorAll(this._options.filterControls):[]),l=this._filterControls.length;l--;)if(!u.inArray(a,this._filterControls[l])){switch(this._filterControls[l].nodeName+this._filterControls[l].type){case"SELECT":case"INPUTcheckbox":case"INPUTradio":this._filterControls[l].removeEventListener("change",this._filterControls[l].jgalleryFilterControlHandler);break;case"INPUTbutton":case"INPUTsubmit":case"BUTTONbutton":case"BUTTONsubmit":case"BUTTONreset":this._filterControls[l].removeEventListener("click",this._filterControls[l].jgalleryFilterControlHandler);break;default:this._filterControls[l].removeEventListener("input",this._filterControls[l].jgalleryFilterControlHandler)}this._filterControls.splice(l,1)}for(l=a.length;l--;)if(!u.inArray(this._filterControls,a[l])){switch(a[l].jgalleryFilterControlHandler=this._filterControlEventHandler.bind(this),a[l].nodeName+a[l].type){case"SELECT":case"INPUTcheckbox":case"INPUTradio":a[l].addEventListener("change",a[l].jgalleryFilterControlHandler);break;case"INPUTbutton":case"INPUTsubmit":case"BUTTONbutton":case"BUTTONsubmit":case"BUTTONreset":a[l].addEventListener("click",a[l].jgalleryFilterControlHandler);break;default:a[l].addEventListener("input",a[l].jgalleryFilterControlHandler)}this._filterControls.push(a[l])}}if(d(),this._resetElementMutationObserver(),this.element.classList[this._options.animate?"add":"remove"]("jgalleryAnimated"),this._options.useOptionAttributes)for(e in this._options)if(r="data-jgallery-"+e.toLowerCase(),o=this._options[e],void 0!==t[e]&&null===t[e]&&this.element.hasAttribute(r))this.element.removeAttribute(r);else if(n[e]!==this._options[e]||this.element.hasAttribute(r)){switch(typeof o){case"boolean":o=o?"true":"false";break;case"number":o+=""}"string"==typeof o&&this.element.setAttribute(r,o)}this._resetChildMutationObserver(),this._options.onOptionsChanged(this)}},document.addEventListener("DOMContentLoaded",(function(){Jgallery._defaultOptions.autoInitOnDomReady&&y(),m.reset()})),"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.jgallery=function(t){return this.each((function(){jQuery(this).data("jgallery",new Jgallery(this,t))}))})}(),new JgalleryLayout({name:"justified",options:{itemHeight:260,hideOnMissingImage:!0,itemGap:0,fillLastRow:!0,fillSingleRow:!0},handler:function(t){var e,i,n,s,l,o,a,r,u,h,d,m=parseInt(t.jgalleryInstance.getOption("itemHeight")),c=!!t.jgalleryInstance.getOption("hideOnMissingImage"),g=parseInt(t.jgalleryInstance.getOption("itemGap")),y=!!t.jgalleryInstance.getOption("fillLastRow"),p=!!t.jgalleryInstance.getOption("fillSingleRow"),f=t.items,_=[],b=[],I=t.dimensions.contentBox.width,v=0,O=0,A=[],C=0,E=0;for(e=f.length;e--;)!(s=f[e]).valid||!s.matchFilter||c&&s.imageError?b.unshift(s):(_.unshift(s),s.optWidth=m*s.width/s.height,v+=s.optWidth);for(n=_.length,l=y?v/(Math.round((v+g*n)/(I+g))||1):I,e=n;e--;)O+(s=_[n-1-e]).optWidth/2>l*A.length&&A.push(a={displaySizeY:0,displayPosY:0,ratioAll:0,optWidth:0,items:[]}),O+=s.optWidth,a.optWidth+=s.optWidth,a.ratioAll+=s.aspectRatio,a.items.push(s);for(t.height=0,o=A.length,u=null,e=0;e<o;e++){for(C=0,E=0,h=I-((r=(a=A[e]).items.length)-1)*g,d=1===o&&p||o>1&&y||e<o-1||a.optWidth>=h,i=0;i<r;i++)(s=a.items[i]).displayPosX=C+i*g,s.displaySizeX=d?Math.round(s.aspectRatio/a.ratioAll*h):Math.round(s.optWidth),C+=s.displaySizeX,d&&i===r-1&&C!==h&&(s.displaySizeX+=h-C),E+=s.displaySizeX/s.aspectRatio;for(a.displaySizeY=Math.round(E/r),a.displayPosY=u?u.displayPosY+u.displaySizeY+g:0,i=0;i<r;i++)(s=a.items[i]).displaySizeY=a.displaySizeY,s.displayPosY=a.displayPosY,s.visible=!0,s.styleToApply="position: absolute; width: "+s.displaySizeX+"px; height: "+s.displaySizeY+"px; left: "+(t.dimensions.padding.left+s.displayPosX)+"px; top: "+(t.dimensions.padding.top+s.displayPosY)+"px; ";t.height+=a.displaySizeY+(e?g:0),u=a}for(t.styleToApply="height: "+(t.dimensions.actualBox.height-t.dimensions.contentBox.height+t.height)+"px; ",e=b.length;e--;)b[e].visible=!1}}),new JgalleryLayout({name:"masonry",options:{desiredWidth:200,hideOnMissingImage:!0,horizontalOrder:!1,itemGap:0},handler:function(t){var e,i,n,s,l,o,a,r,u=parseInt(t.jgalleryInstance.getOption("itemwidth")),h=!!t.jgalleryInstance.getOption("hideOnMissingImage"),d=!!t.jgalleryInstance.getOption("horizontalOrder"),m=parseInt(t.jgalleryInstance.getOption("itemgap")),c=0,g=[],y=0,p=t.items,f=[],_=[],b=t.dimensions.contentBox.width;for(l=p.length;l--;)!(r=p[l]).valid||!r.matchFilter||h&&r.imageError?_.push(r):f.push(r);for(a=f.length,i=b-((e=(e=Math.round(b/u)||1)>a?a:e)-1)*m,l=e;l--;)c+=n=i-Math.round(i*l/e)-c,g.push({index:g.length,width:n,left:i-c+l*m,height:0});for(l=a;l--;){if(d)s=g[s&&s.index>0?s.index-1:e-1];else for(s=g[o=e-1];o--;)g[o].height<s.height-2&&(s=g[o]);(r=f[l]).displaySizeX=s.width,r.displaySizeY=Math.round(r.displaySizeX/r.width*r.height),r.displayPosX=s.left,r.displayPosY=s.height+(s.height?m:0),s.height+=r.displaySizeY+(s.height?m:0),y<s.height&&(y=s.height),r.visible=!0,r.styleToApply="position: absolute; width: "+r.displaySizeX+"px; height: "+r.displaySizeY+"px; left: "+(t.dimensions.padding.left+r.displayPosX)+"px; top: "+(t.dimensions.padding.top+r.displayPosY)+"px; "}for(t.styleToApply="height: "+(t.dimensions.actualBox.height-t.dimensions.contentBox.height+y)+"px; ",l=_.length;l--;)_[l].visible=!1}});